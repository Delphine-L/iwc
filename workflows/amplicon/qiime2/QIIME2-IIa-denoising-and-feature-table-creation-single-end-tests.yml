- doc: Test outline for QIIME2-IIa-denoising--and-feature-table-creation-single-end
  job:
    Metadata:
      class: File
      location: https://docs.qiime2.org/jupyterbooks/cancer-microbiome-intervention-tutorial/data/020-tutorial-upstream/020-metadata/sample-metadata.tsv
      filetype: tabular
    Input of demultiplexed sequences:
      class: File
      path: test-data/QIIME2-Ic-demultiplexed-data-single-end.qza
      filetype: qza
    Truncation of length: 204
    Trimming length: 1
  outputs:
    Denoising output table:
      asserts:
        - has_size:
            min: 20k
        - has_archive_member:
            path: "^[^/]*/data/feature-table.biom"
            n: 1
    Representative denoised sequences:
      asserts:
        - has_size:
            min: 20k
        - has_archive_member:
            path: "^[^/]*/metadata.yaml"
            n: 1
        - has_archive_member:
            path: "^[^/]*/data/dna-sequences.fasta"
            n: 1
            asserts:
              - has_text_matching:
                  expression: ">.*"
                  n: 203
    Denoising statistics:
      asserts:
        - has_size:
            min: 0
        - has_size:
            min: 10k
        - has_archive_member:
            path: "^[^/]*/data/stats.tsv"
            n: 1
            asserts:
              - has_n_columns:
                  n: 7
              # 2 header lines + 3 samples
              - has_n_lines:
                  n: 5
