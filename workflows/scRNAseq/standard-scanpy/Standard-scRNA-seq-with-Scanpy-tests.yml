- doc: Test outline for Standard-scRNA-seq-with-Scanpy
  job:
    Workflow Params:
      class: File
      path: test-data/workflow_params.tabular
      filetype: tabular
    Barcodes:
      class: File
      location: https://zenodo.org/record/3581213/files/barcodes.tsv
      filetype: txt
    Genes:
      class: File
      location: https://zenodo.org/record/3581213/files/genes.tsv
      filetype: tabular
    Matrix:
      class: File
      location: https://zenodo.org/record/3581213/files/matrix.mtx
      filetype: mtx
    Input is from Cell Ranger v2 or earlier versions: true
    Manually annotate celltypes?: true
    Annotate louvain clusters with these cell types: CD4+ T, CD14+, B, CD8+ T, FCGR3A+,
      NK, Dendritic, Megakaryocytes
  outputs:
    initial_anndata_general_info:
      asserts:
        has_text:
            text: "AnnData object with n_obs × n_vars = 2700 × 32738"
    pl_scatter_total_counts_vs_n_genes_by_counts:
      has_size:
        size: 27381
        delta: 2700
      has_image_width:
        width: 630
        delta: 40
      has_image_height:
        height: 413
        delta: 25
    pl_highly_variable:
      has_size:
        size: 67135
        delta: 6500
      has_image_width:
        width: 1061
        delta: 50
      has_image_height:
        height: 432
        delta: 27
    pl_pca_loadings:
      has_size:
        size: 71020
        delta: 7000
      has_image_width:
        width: 1601
        delta: 80
      has_image_height:
        height: 430
        delta: 27
    pl_pca_variance_ratio:
      has_size:
        size: 20174
        delta: 2000
      has_image_width:
        width: 569
        delta: 25
      has_image_height:
        height: 453
        delta: 25
    pl_umap_louvain:
      has_size:
        size: 68416
        delta: 6000
      has_image_width:
        width: 601
        delta: 30
      has_image_height:
        height: 429
        delta: 25
    uns_rank_genes_groups_names_wilcoxon_test:
      asserts:
        has_line:
            line: "LDHB	LYZ	CD74	CCL5	LST1	NKG7	HLA-DPA1	PF4"
    pl_rank_gene_groups_t_test_wilcoxon_test:
      has_size:
        size: 164953
        delta: 16000
      has_image_width:
        width: 1559
        delta: 75
      has_image_height:
        height: 1192
        delta: 50
    final_anndata_general_info:
      path: test-data/final_anndata_general_info.txt
    cells_per_cluster:
      asserts:
        has_line:
            line: "0	1162"
            line: "3	311"
            line: "6	34"
    pl_scatter_n_genes_by_counts_vs_pct_mito:
      has_size:
        size: 33175
      has_image_width:
        width: 617
        delta: 30
      has_image_height:
        height: 413
        delta: 20
    pl_violin_initial:
      has_size:
        size: 71188
      has_image_width:
        width: 1508
        delta: 75
      has_image_height:
        height: 490
        delta: 25
    anndata_with_raw:
      asserts:
        has_h5_keys:
            keys: "obs/log1p_total_counts"
            keys: "obs/total_counts_mito"
            keys: "var/mito"
            keys: "var/norm"
            keys: "uns/log1p"
    pl_pca_overview_genes:
      has_size:
        size: 61974
        delta: 600
      has_image_width:
        width: 1158
        delta: 60
      has_image_height:
        height: 409
        delta: 25
    pl_rank_genes_heatmap:
      has_size:
        size: 162549
        delta: 16000
      has_image_width:
        width: 788
        delta: 40
      has_image_height:
        height: 505
        delta: 25
    anndata_out:
      asserts:
        has_h5_keys:
            keys: "obs/louvain"
            keys: "var/highly_variable"
            keys: "uns/rank_genes_groups"
    pl_umap_marker_genes:
      has_size:
        size: 696399
        delta: 60000
      has_image_width:
        width: 1146
        delta: 60
      has_image_height:
        height: 2099
        delta: 105
    pl_stacked_violin_marker_genes:
      has_size:
        size: 22147
        delta: 2200
      has_image_width:
        width: 299
        delta: 15
      has_image_height:
        height: 258
        delta: 15
    pl_violin_louvain:
      has_size:
        size: 261433
        delta: 26000
      has_image_width:
        width: 5532
        delta: 280
      has_image_height:
        height: 418
        delta: 20
    pl_dotplot_marker_genes:
      has_size:
        size: 39916
        delta: 3900
      has_image_width:
        width: 535
        delta: 27
      has_image_height:
        height: 379
        delta: 19
